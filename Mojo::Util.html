<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<!-- Google Automatic Advertising -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="icon" type="image/x-icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>

<script>
  $(function(){
    // google code prettifyの有効化
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CP8HZ9DC1K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CP8HZ9DC1K');
</script>
<title>Mojo::Util - ポータブルなユーティリティ関数 - Mojoliciousドキュメント 日本語訳</title>
<meta name="description" content="Mojo::Util は Mojo にポータブルなユーティリティ関数を提供します。">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">Mojoliciousドキュメント日本語訳</a>
  </h1>
  <div class="header_right">
    <a rel="nofollow" href="https://perlclub.net/account/create">会員登録</a>
  </div>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <!-- 

<p><a href="/Mojo::Util.html">Mojo::Util</a> は <a href="/Mojo.html">Mojo</a> にポータブルなユーティリティ関数を提供します。</p> -->
<html><head><title>名前</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.40,
  using Pod::Simple::PullParser v3.40,
  under Perl v5.032001 at Thu Apr 14 23:01:13 2022 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<div><a href="/mojo-api-reference.html">Mojolicious API リファレンス</a></div>

<h2><a href="/Mojo::Util.html">Mojo::Util - ポータブルなユーティリティ関数</a></h2>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>



<h3><a class='u'
name="_"
>使い方</a></h3>

<pre>use Mojo::Util qw(b64_encode url_escape url_unescape);

my $str = 'test=23';
my $escaped = url_escape $str;
say url_unescape $escaped;
say b64_encode $escaped, '';</pre>

<h3><a class='u'
name="_"
>説明</a></h3>

<p><a href="/Mojo::Util.html">Mojo::Util</a> は <a href="/Mojo.html">Mojo</a> にポータブルなユーティリティ関数を提供します。</p>

<h3><a class='u'
name="_"
>関数</a></h3>

<p><a href="/Mojo::Util.html">Mojo::Util</a> は以下の関数を実装します。</p>

<h4><a class='u'
name="b64_decode"
>b64_decode</a></h4>

<pre>my $bytes = b64_decode $b64;</pre>

<p><a href="https://metacpan.org/pod/MIME%3A%3ABase64" class="podlinkpod"
>MIME::Base64</a>を使って、Base64 デコードします。</p>

<h4><a class='u'
name="b64_encode"
>b64_encode</a></h4>

<pre>my $b64 = b64_encode $bytes;
my $b64 = b64_encode $bytes, "\n";</pre>

<p><a href="https://metacpan.org/pod/MIME%3A%3ABase64" class="podlinkpod"
>MIME::Base64</a>を使って、Base64 エンコードします。</p>

<h4><a class='u'
name="camelize"
>camelize</a></h4>

<pre>my $camelcase = camelize $snakecase;</pre>

<p>スネークケースの文字列をキャメルケースの文字列へ変換します。 <code>-</code>は<code>::</code>に変換されます。</p>

<pre># "FooBar"
camelize 'foo_bar';

# "FooBar::Baz"
camelize 'foo_bar-baz';

# "FooBar::Baz"
camelize 'FooBar::Baz';</pre>

<h4><a class='u'
name="class_to_file"
>class_to_file</a></h4>

<pre>my $file = class_to_file 'Foo::Bar';</pre>

<p>クラス名をファイル名に変換します。</p>

<pre># "foo_bar"
class_to_file 'Foo::Bar';

# "foobar"
class_to_file 'FOO::Bar';

# "foo_bar"
class_to_file 'FooBar';

# "foobar"
class_to_file 'FOOBar';</pre>

<h4><a class='u'
name="class_to_path"
>class_to_path</a></h4>

<pre>my $path = class_to_path 'Foo::Bar';</pre>

<p>クラス名をパス名に変換します。</p>

<pre># "Foo/Bar.pm"
class_to_path 'Foo::Bar';

# "FooBar.pm"
class_to_path 'FooBar';</pre>

<h4><a class='u'
name="decamelize"
>decamelize</a></h4>

<pre>my $snakecase = decamelize $camelcase;</pre>

<p>キャメルケースの文字列をスネークケースの文字列へ変換します。 <code>::</code>は<code>-</code>に変換されます。</p>

<pre># "foo_bar"
decamelize 'FooBar';

# "foo_bar-baz"
decamelize 'FooBar::Baz';

# "foo_bar-baz"
decamelize 'foo_bar-baz';</pre>

<h4><a class='u'
name="decode"
>decode</a></h4>

<pre>my $chars = decode 'UTF-8', $bytes;</pre>

<p><a href="https://metacpan.org/pod/Encode" class="podlinkpod"
>Encode</a>を使って、バイト列を文字列にデコードします。</p>

<h4><a class='u'
name="deprecated"
>deprecated</a></h4>

<pre>deprecated 'foo is DEPRECATED in favor of bar';</pre>

<p>呼び出し元の視点から廃止予定の機能の警告を出します。 <a href="https://metacpan.org/pod/MOJO_FATAL_DEPRECATIONS" class="podlinkpod"
>MOJO_FATAL_DEPRECATIONS</a>環境変数を設定すれば、 変わりに例外を発生させることができます。</p>

<h4><a class='u'
name="dumper"
>dumper</a></h4>

<p>my $perl = dumper {some => 'data'};</p>

<p>Perlのデータ構造を<a href="/Data::Dumper.html">Data::Dumper</a>でダンプします。</p>

<h4><a class='u'
name="encode"
>encode</a></h4>

<pre>my $bytes = encode 'UTF-8', $chars;</pre>

<p><a href="https://metacpan.org/pod/Encode" class="podlinkpod"
>Encode</a>を使って、文字列をバイト列にエンコードします。</p>

<h4><a class='u'
name="extract_usage"
>extract_usage</a></h4>

<pre>my $usage = extract_usage;
my $usage = extract_usage '/home/sri/foo.pod';</pre>

<p>Extract usage message from the SYNOPSIS section of a file containing POD documentation, defaults to using the file this function was called from.</p>

<p>PODドキュメントを含むファイルのSYNOPSISセクションから使用法メッセージを抽出しあｍす。 デフォルトでは、この関数が呼び出されたファイルを使用します。</p>

<pre># "Usage: APPLICATION test [OPTIONS]\n"
extract_usage;

=head1 SYNOPSIS

  Usage: APPLICATION test [OPTIONS]

=cut</pre>

<h4><a class='u'
name="getopt"
>getopt</a></h4>

<pre>getopt
  'H|headers=s' =&gt; \my @headers,
  't|timeout=i' =&gt; \my $timeout,
  'v|verbose'   =&gt; \my $verbose;
getopt $array,
  'H|headers=s' =&gt; \my @headers,
  't|timeout=i' =&gt; \my $timeout,
  'v|verbose'   =&gt; \my $verbose;
getopt $array, ['pass_through'],
  'H|headers=s' =&gt; \my @headers,
  't|timeout=i' =&gt; \my $timeout,
  'v|verbose'   =&gt; \my $verbose;</pre>

<p><a href="https://metacpan.org/pod/Getopt%3A%3ALong" class="podlinkpod"
>Getopt::Long</a>を使って、配列のリファレンスからオプションを抽出しますが、グローバルな設定は、変更しません。 デフォルトでは、<code>@ARGV</code>を使います。設定オプションは、デフォルトで、<code>no_auto_abbrev</code>と<code>no_ignore_case</code>が有効になっています。</p>

<pre># "charset"オプションを抽出
getopt ['--charset', 'UTF-8'], 'charset=s' =&gt; \my $charset;
say $charset;</pre>

<h4><a class='u'
name="hmac_sha1_sum"
>hmac_sha1_sum</a></h4>

<pre>my $checksum = hmac_sha1_sum $bytes, 'passw0rd';</pre>

<p>バイトのためにHMAC-SHA1チェックサムを生成します。</p>

<pre># "11cedfd5ec11adc0ec234466d8a0f2a83736aa68"
hmac_sha1_sum 'foo', 'passw0rd';</pre>

<h4><a class='u'
name="gunzip"
>gunzip</a></h4>

<pre>my $uncompressed = gunzip $compressed;</pre>

<p><a href="https://metacpan.org/pod/IO%3A%3ACompress%3A%3AGunzip" class="podlinkpod"
>IO::Compress::Gunzip</a>を使って、バイト列を解凍します。</p>

<h4><a class='u'
name="gzip"
>gzip</a></h4>

<pre>my $compressed = gzip $uncompressed;</pre>

<p><a href="https://metacpan.org/pod/IO%3A%3ACompress%3A%3AGzip" class="podlinkpod"
>IO::Compress::Gzip</a>を使って、バイト列を圧縮しています。</p>

<h4><a class='u'
name="html_attr_unescape"
>html_attr_unescape</a></h4>

<pre>my $str = html_attr_unescape $escaped;</pre>

<p>Same as <a href="#html_unescape" class="podlinkpod"
>"html_unescape"</a>, but handles special rules from the <a href="https://html.spec.whatwg.org" class="podlinkurl"
>HTML Living Standard</a> for HTML attributes.</p>

<p>"html_unescape"と同じですが、HTML属性のために<a href="https://html.spec.whatwg.org" class="podlinkurl"
>HTML Living Standard</a>からの特別なルールで処理します。</p>

<pre># "foo=bar&ltest=baz"
html_attr_unescape 'foo=bar&ltest=baz';

# "foo=bar&lt;est=baz"
html_attr_unescape 'foo=bar&lt;est=baz';</pre>

<h4><a class='u'
name="html_unescape"
>html_unescape</a></h4>

<pre>my $str = html_unescape $escaped;</pre>

<p>文字列を HTML5 アンエスケープします。</p>

<pre># "&lt;div&gt;"
html_unescape '&lt;div&gt;';</pre>

<h4><a class='u'
name="md5_bytes"
>md5_bytes</a></h4>

<pre>my $checksum = md5_bytes $bytes;</pre>

<p><a href="https://metacpan.org/pod/Digest%3A%3AMD5" class="podlinkpod"
>Digest::MD5</a>を使って、バイトのためにバイナリ MD5 チェックサムを生成します。</p>

<h4><a class='u'
name="md5_sum"
>md5_sum</a></h4>

<pre>my $checksum = md5_sum $bytes;</pre>

<p><a href="https://metacpan.org/pod/Digest%3A%3AMD5" class="podlinkpod"
>Digest::MD5</a>を使って、バイトのためにMD5 チェックサムを生成します。</p>

<pre># "acbd18db4cc2f85cedef654fccc4a4d8"
md5_sum 'foo';</pre>

<h4><a class='u'
name="monkey_patch"
>monkey_patch</a></h4>

<pre>monkey_patch $package, foo =&gt; sub {...};
monkey_patch $package, foo =&gt; sub {...}, bar =&gt; sub {...};</pre>

<p>関数をパッケージのなかにモンキーパッチします。</p>

<pre>monkey_patch 'MyApp',
  one   =&gt; sub { say 'One!' },
  two   =&gt; sub { say 'Two!' },
  three =&gt; sub { say 'Three!' };</pre>

<h4><a class='u'
name="punycode_decode"
>punycode_decode</a></h4>

<pre>my $str = punycode_decode $punycode;</pre>

<p>RFC 3492で解説されているPunycode デコードします。</p>

<pre># "bücher"
punycode_decode 'bcher-kva';</pre>

<h4><a class='u'
name="punycode_encode"
>punycode_encode</a></h4>

<pre>my $punycode = punycode_encode $str;</pre>

<p>RFC 3492で解説されているPunycodeエンコードします。</p>

<pre># "bcher-kva"
punycode_encode 'bücher';</pre>

<h4><a class='u'
name="quote"
>quote</a></h4>

<pre>my $quoted = quote $str;</pre>

<p>文字列をクォートします。</p>

<h4><a class='u'
name="secure_compare"
>secure_compare</a></h4>

<pre>my $bool = secure_compare $str1, $str2;</pre>

<p>タイミングアタックを防ぐための定数時間比較アルゴリズム。</p>

<h4><a class='u'
name="sha1_bytes"
>sha1_bytes</a></h4>

<pre>my $checksum = sha1_bytes $bytes;</pre>

<p><a href="https://metacpan.org/pod/Digest%3A%3ASHA" class="podlinkpod"
>Digest::SHA</a>を使って、バイトのためにバイナリ SHA1 チェックサムを生成します。</p>

<h4><a class='u'
name="sha1_sum"
>sha1_sum</a></h4>

<pre>my $checksum = sha1_sum $bytes;</pre>

<p><a href="https://metacpan.org/pod/Digest%3A%3ASHA" class="podlinkpod"
>Digest::SHA</a>を使って、バイトのためにSHA1 チェックサムを生成します。</p>

<pre># "0beec7b5ea3f0fdbc95d0dd47f3c5bc275da8a33"
sha1_sum 'foo';</pre>

<h4><a class='u'
name="slugify"
>slugify</a></h4>

<pre>my $slug = slugify $string;
my $slug = slugify $string, $bool;</pre>

<p>Returns a URL slug generated from the input string. Non-word characters are removed, the string is trimmed and lowercased, and whitespace characters are replaced by a dash. By default, non-ASCII characters are normalized to ASCII word characters or removed, but if a true value is passed as the second parameter, all word characters will be allowed in the result according to unicode semantics.</p>

<p>入力文字列から生成されたURLスラッグを返します。非単語文字は 削除され、文字列はトリミングされ、小文字化されます。空白文字は ダッシュで置き換えます。デフォルトでは、非ASCII文字はASCIIに正規化されるか、取り除かれます。 2番目のパラメーターに、真の値が渡された場合 パラメータでは、結果にはすべての単語の文字はUnicodeのセマンティクスに応じて許可されます。</p>

<pre># "joel-is-a-slug"
slugify 'Joel is a slug';

# "this-is-my-resume"
slugify 'This is: my - résumé! ☃ ';

# "this-is-my-résumé"
slugify 'This is: my - résumé! ☃ ', 1;</pre>

<h4><a class='u'
name="split_cookie_header"
>split_cookie_header</a></h4>

<pre>my $tree = split_cookie_header 'a=b; expires=Thu, 07 Aug 2008 07:07:59 GMT';</pre>

<p><code>split_header</code>と同じですが、 <a href="http://tools.ietf.org/html/rfc6265" class="podlinkurl"
>RFC 6265</a>. からの<code>expires</code>の値を処理します。</p>

<h4><a class='u'
name="split_header"
>split_header</a></h4>

<pre> my $tree = split_header 'foo="bar baz"; test=123, yada';</pre>

<p>HTTPヘッダの値を分割します。</p>

<p>HTTPヘッダの値を、キーと値のペアに分割します。 それぞれのコンマで分割された部分は、配列のリファレンスになります。 値のないキーには<code>undef</code>が割り当てられます。</p>

<pre># "one"
split_header('one; two="three four", five=six')-&gt;[0][0];

# "two"
split_header('one; two="three four", five=six')-&gt;[0][2];

# "three four"
split_header('one; two="three four", five=six')-&gt;[0][3];

# "five"
split_header('one; two="three four", five=six')-&gt;[1][0];

# "six"
split_header('one; two="three four", five=six')-&gt;[1][1];</pre>

<h4><a class='u'
name="steady_time"
>steady_time</a></h4>

<pre>my $time = steady_time;</pre>

<p>過去の任意の固定した点から経過した高い分解時間。 これは<a href="https://metacpan.org/pod/Time%3A%3AHiRes" class="podlinkpod"
>Time::HiRes</a>をとおしてモノトニッククロックが利用可能であれば、 回復力のあるタイムジャンプを提供します。</p>

<h4><a class='u'
name="tablify"
>tablify</a></h4>

<pre>my $table = tablify [['foo', 'bar'], ['baz', 'yada']];</pre>

<p>テキストテーブルのための、行指向ジェネレーター。</p>

<pre># "foo   bar\nyada  yada\nbaz   yada\n"
tablify [['foo', 'bar'], ['yada', 'yada'], ['baz', 'yada']];</pre>

<h4><a class='u'
name="term_escape"
>term_escape</a></h4>

<pre>my $escaped = term_escape $str;</pre>

<p><code>\n</code>を除いたすべてのPOSIXコントロール文字をエスケープします。</p>

<pre># "foo\\x09bar\\x0d\n"
term_escape "foo\tbar\r\n";</pre>

<h4><a class='u'
name="trim"
>trim</a></h4>

<pre>my $trimmed = trim $str;</pre>

<p>文字列の両端にある空白文字を除去します。</p>

<pre># "foo bar"
trim '  foo bar  ';</pre>

<h4><a class='u'
name="unindent"
>unindent</a></h4>

<pre>my $unindented = unindent $str;</pre>

<p>複数行の文字列をアンインデントします。</p>

<pre># "foo\nbar\nbaz\n"
unindent "  foo\n  bar\n  baz\n";</pre>

<h4><a class='u'
name="unquote"
>unquote</a></h4>

<pre>my $str = unquote $quoted;</pre>

<p>文字列をアンクォートします。</p>

<pre># "foo%3Bbar"
url_unescape 'foo;bar';</pre>

<h4><a class='u'
name="url_escape"
>url_escape</a></h4>

<pre>my $escaped = url_escape $str;
my $escaped = url_escape $str, 'A-Za-z0-9\-\.\_\~';</pre>

<p>RFC 3986で解説されている文字列において、安全でない文字を パーセントエンコードします。 このパターンのデフォルトは<code>^A-Za-z0-9\-._~</code>です。</p>

<pre># "foo%3Bbar"
url_escape 'foo;bar';</pre>

<h4><a class='u'
name="url_unescape"
>url_unescape</a></h4>

<pre>my $str = url_unescape $escaped;</pre>

<p>RFC 3986で解説されている文字列のおいて パーセントエンコーディングされた文字をデコードします。</p>

<pre># "foo;bar"
url_unescape 'foo%3Bbar';</pre>

<h4><a class='u'
name="xml_escape"
>xml_escape</a></h4>

<pre>my $escaped = xml_escape $str;</pre>

<p>文字列の中の安全でない文字である <code>&</code>, <code><</code>, <code>></code>, <code>"</code>, <code>'</code> をエスケープします。</p>

<pre># "&lt;div&gt;"
xml_escape '&lt;div&gt;';

# "&lt;div&gt;"
use Mojo::ByteStream 'b';
xml_escape b('&lt;div&gt;');</pre>

<h4><a class='u'
name="xor_encode"
>xor_encode</a></h4>

<pre>my $encoded = xor_encode $str, $key;</pre>

<p>可変長の長さのキーを使って、文字列をXORエンコードします。</p>

<h3><a class='u'
name="_"
>参考</a></h3>

<p><a href="/Mojolicious.html">Mojolicious</a>, <a href="/Mojolicious::Guides.html">Mojolicious::Guides</a>, <a href="http://mojolicio.us" class="podlinkurl"
>http://mojolicio.us</a>.</p>

<p>(Mojolicious 8.12を反映。2019年6月3日)</p>

<!-- end doc -->

</body></html>

  </div>
  <div class="bottom">
    <h3>関連情報</h3>

<div style="margin:10px 0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div style="margin-bottom:30px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<!-- ディスプレイ縦長 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="4544919209"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div style="margin-bottom:30px;padding:0 8px;">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net">Perlクラブ</a>
</div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
     
      </div>
    </div>
  </body>
</html>
