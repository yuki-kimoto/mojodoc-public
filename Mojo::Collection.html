<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<!-- Google Automatic Advertising -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="icon" type="image/x-icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>

<script>
  $(function(){
    // google code prettifyの有効化
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CP8HZ9DC1K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CP8HZ9DC1K');
</script>
<title>Mojo::Collection - コレクション - Mojoliciousドキュメント 日本語訳</title>
<meta name="description" content="Mojo::Collectionは、配列ベースのコレクションのコンテナです。">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">Mojoliciousドキュメント日本語訳</a>
  </h1>
  <div class="header_right">
    <a rel="nofollow" href="https://perlclub.net/account/create">会員登録</a>
  </div>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <!-- 

<p><a href="/Mojo::Collection.html">Mojo::Collection</a>は、配列ベースのコレクションのコンテナです。</p> -->
<html><head><title>名前</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.40,
  using Pod::Simple::PullParser v3.40,
  under Perl v5.032001 at Thu Apr 14 22:06:35 2022 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<div><a href="/mojo-api-reference.html">Mojolicious API リファレンス</a></div>

<h2><a href="/Mojo::Collection.html">Mojo::Collection - コレクション</a></h2>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>



<h3><a class='u'
name="_"
>使い方</a></h3>

<pre>use Mojo::Collection;

# コレクションの操作
my $collection = Mojo::Collection-&gt;new(qw(just works));
unshift @$collection, 'it';
say $collection-&gt;join("\n");

# チェーンメソッド
$collection-&gt;map(sub { ucfirst })-&gt;shuffle-&gt;each(sub {
  my ($word, $num) = @_;
  say "$num: $word";
});

# もうひとつのコンストラクタを使用
use Mojo::Collection 'c';
c(qw(a b c))-&gt;join('/')-&gt;url_escape-&gt;say;</pre>

<h3><a class='u'
name="_"
>説明</a></h3>

<p><a href="/Mojo::Collection.html">Mojo::Collection</a>は、配列ベースのコレクションのコンテナです。</p>

<pre># コレクションを扱うために配列に直接アクセスする
my $collection = Mojo::Collection-&gt;new(1 .. 25);
$collection-&gt;[23] += 100;
say for @$collection;</pre>

<h3><a class='u'
name="_"
>関数</a></h3>

<p><a href="/Mojo::Collection.html">Mojo::Collection</a>は次の関数を実装しています。個々にインポートすることもできます。</p>

<h4><a class='u'
name="c"
>c</a></h4>

<pre>my $collection = c(1, 2, 3);</pre>

<p>新しい<a href="/Mojo::Collection.html">Mojo::Collection</a>オブジェクトを生成します。</p>

<h3><a class='u'
name="_"
>メソッド</a></h3>

<p><a href="/Mojo::Collection.html">Mojo::Collection</a>は次の新しいメソッドを実装しています。</p>

<h4><a class='u'
name="TO_JSON"
>TO_JSON</a></h4>

<pre>my $array = $collection-&gt;TO_JSON;</pre>

<p>"to_array"のエイリアス。</p>

<h4><a class='u'
name="compact"
>compact</a></h4>

<pre>my $new = $collection-&gt;compact;</pre>

<p>定義されている、あるいは空ではない文字列のすべてのすべての要素で新しいコレクションを作成します。</p>

<pre># "0, 1, 2, 3"
Mojo::Collection-&gt;new(0, 1, undef, 2, '', 3)-&gt;compact-&gt;join(', ');</pre>

<h4><a class='u'
name="each"
>each</a></h4>

<pre>my @elements = $collection-&gt;each;
$collection  = $collection-&gt;each(sub {...});</pre>

<p>コレクションの中の、それぞれの要素にクロージャを適用します。もし何も引数がなければ、すべての要素をリストとして返却します。 要素はコールバックに渡された最初の引数で、<code>$_</code>として利用することもできます。</p>

<pre># 数のリストを作成
$collection-&gt;each(sub {
  my ($e, $num) = @_;
  say "$num: $e";
});</pre>

<h4><a class='u'
name="first"
>first</a></h4>

<pre>my $first = $collection-&gt;first;
my $first = $collection-&gt;first(qr/foo/);
my $first = $collection-&gt;first(sub {...});
my $first = $collection-&gt;first('some_method');
my $first = $collection-&gt;first('some_method', @args);</pre>

<p>コレクションの中のそれぞれの要素にコールバック、あるいは正規表現を適用し、 正規表現がマッチあるいはコールバック・メソッドが真を返した最初の要素を返却します。 要素はコールバックに渡された最初の引数で、<code>$_</code>として利用することもできます。</p>

<pre># 長いバージョン
my $first = $collection-&gt;first(sub { $_-&gt;some_method(@args) });

# "mojo"という言葉を含む最初の値を捜す
my $interesting = $collection-&gt;first(qr/mojo/i);

# 5より大きい最初の値を探す。
my $greater = $collection-&gt;first(sub { $_ &gt; 5 });</pre>

<h4><a class='u'
name="flatten"
>flatten</a></h4>

<pre>my $new = $collection-&gt;flatten;</pre>

<p>ネストされた「コレクション/配列」を平らにし、すべての要素で新しいコレクションを作成します。</p>

<pre># "1, 2, 3, 4, 5, 6, 7"
Mojo::Collection-&gt;new(1, [2, [3, 4], 5, [6]], 7)-&gt;flatten-&gt;join(', ');</pre>

<h4><a class='u'
name="grep"
>grep</a></h4>

<pre>my $new = $collection-&gt;grep(qr/foo/);
my $new = $collection-&gt;grep(sub {...});
my $new = $collection-&gt;grep('some_method');
my $new = $collection-&gt;grep('some_method', @args);</pre>

<p>コレクションの中のそれぞれの要素に正規表現あるいはコールバックを適用し、 正規表現がマッチあるいは、コールバック・メソッドが真を返したすべての要素 をもつ新しいコレクションを生成します。 要素はコールバックに渡された最初の引数で、<code>$_</code>として利用することもできます。</p>

<pre># 長いバージョン
my $new = $collection-&gt;grep(sub { $_-&gt;some_method(@args) });

# "mojo"という単語を含むすべての値を見つける
my $interesting = $collection-&gt;grep(qr/mojo/i);

# 5より大きいすべての値を見つける
my $greater = $collection-&gt;grep(sub { $_ &gt; 5 });</pre>

<h4><a class='u'
name="join"
>join</a></h4>

<pre>my $stream = $collection-&gt;join;
my $stream = $collection-&gt;join("\n");</pre>

<p>コレクションを結合して<a href="/Mojo::ByteStream.html">Mojo::ByteStream</a>に変換します。</p>

<pre># コンマですべての値をつなげる
$collection-&gt;join(', ')-&gt;say;</pre>

<h4><a class='u'
name="last"
>last</a></h4>

<pre>my $last = $collection-&gt;last;</pre>

<p>コレクションの最後の要素を返却します。</p>

<h4><a class='u'
name="map"
>map</a></h4>

<pre>my $new = $collection-&gt;map(sub {...});
my $new = $collection-&gt;map('some_method');
my $new = $collection-&gt;map('some_method', @args);</pre>

<p>コレクションのそれぞれの要素にコールバックを適用、あるいはメソッドを呼び出し、 結果から新しいコレクションを生成します。 要素はコールバックに渡された最初の引数で、<code>$_</code>として利用することもできます。</p>

<pre># 長いバージョン
my $new = $collection-&gt;map(sub { $_-&gt;some_method(@args) });

# "mojo"という値をすべての値に追加
my $mojoified = $collection-&gt;map(sub { $_ . 'mojo' });</pre>

<h4><a class='u'
name="new"
>new</a></h4>

<pre>my $collection = Mojo::Collection-&gt;new(1, 2, 3);</pre>

<p>新しい配列ベースの<a href="/Mojo::Collection.html">Mojo::Collection</a>オブジェクトを生成します。</p>

<h4><a class='u'
name="reduce"
>reduce</a></h4>

<pre>my $result = $collection-&gt;reduce(sub {...});
my $result = $collection-&gt;reduce(sub {...}, $initial);</pre>

<p>コレクションに含まれる要素をコールバックを使って、リデュースし、コールバックが実行されるたびに、"$a", "$b"に設定される、最後の結果を返します。最初の時点で"$a"は、オプショナルな初期値に設定されるか、コレクションの最初の要素です。それから、"$a"はコールバックの戻り値に設定されます。一方で、"$b"は、いつもコレクションの次の値に設定されます。</p>

<pre># すべての値の合計を計算
my $sum = $collection-&gt;reduce(sub { $a + $b });

# コレクションの中のそれぞれの値が発生した回数をカウント
my $hash = $collection-&gt;reduce(sub { $a-&gt;{$b}++; $a }, {});</pre>

<h4><a class='u'
name="reverse"
>reverse</a></h4>

<pre>my $new = $collection-&gt;reverse;</pre>

<p>すべての要素の順序を逆にした新しいコレクションを生成します。</p>

<h4><a class='u'
name="slice"
>slice</a></h4>

<pre>my $new = $collection-&gt;slice(4 .. 7);</pre>

<p>すべての選択された要素を持つ新しいコレクションを生成します。</p>

<pre># "B C E"
Mojo::Collection-&gt;new('A', 'B', 'C', 'D', 'E')-&gt;slice(1, 2, 4)-&gt;join(' ');</pre>

<h4><a class='u'
name="shuffle"
>shuffle</a></h4>

<pre>my $new = $collection-&gt;shuffle;</pre>

<p>すべての要素をランダムな順にした新しい要素を生成します。</p>

<h4><a class='u'
name="size"
>size</a></h4>

<pre>my $size = $collection-&gt;size;</pre>

<p>コレクションの要素の数。</p>

<h4><a class='u'
name="sort"
>sort</a></h4>

<pre>my $new = $collection-&gt;sort;
my $new = $collection-&gt;sort(sub {...});</pre>

<p>コールバックの戻り値に基づいて要素を並べ替え、結果から新しいコレクションを生成します。コールバックが実行されるたびに、"$a"と"$b"は比較される要素に設定されます。</p>

<pre># ケースインセンティブに値をソート
my $case_insensitive = $collection-&gt;sort(sub { uc($a) cmp uc($b) });</pre>

<h4><a class='u'
name="tap"
>tap</a></h4>

<pre>$collection = $collection-&gt;tap(sub {...});</pre>

<p><a href="/Mojo::Base.html">Mojo::Base</a>の<code>tap</code>の別名です。</p>

<h4><a class='u'
name="to_array"
>to_array</a></h4>

<pre>my $array = $collection-&gt;to_array;</pre>

<p>コレクションを配列のリファレンスに変換します。</p>

<h4><a class='u'
name="uniq"
>uniq</a></h4>

<pre>my $new = $collection-&gt;uniq;
my $new = $collection-&gt;uniq(sub {...});
my $new = $collection-&gt;uniq('some_method');
my $new = $collection-&gt;uniq('some_method', @args);</pre>

<p>一意性を決定するために、それぞれの要素の文字列表現か、コールバック・メソッドの戻り値を使って、重複した要素をなくしたコレクションを作成します。"undef"は空の文字列と同じものとして扱われることに注意してください。</p>

<pre># 長いバージョン
my $new = $collection-&gt;uniq(sub { $_-&gt;some_method(@args) });

# "foo bar baz"
c('foo', 'bar', 'bar', 'baz')-&gt;uniq-&gt;join(' ');

# "[[1, 2], [2, 1]]"
c([1, 2], [2, 1], [3, 2])-&gt;uniq(sub{ $_-&gt;[1] })-&gt;to_array;</pre>

<h4><a class='u'
name="with_roles"
>with_roles</a></h4>

<pre>my $new_class = Mojo::Collection-&gt;with_roles('Mojo::Collection::Role::One');
my $new_class = Mojo::Collection-&gt;with_roles('+One', '+Two');
$collection   = $collection-&gt;with_roles('+One', '+Two');</pre>

<p><a href="/Mojo::Base.html">Mojo::Base</a>の"with_roles"のエイリアス。</p>

<h3><a class='u'
name="_"
>参考</a></h3>

<p><a href="https://metacpan.org/pod/Mojolicious" class="podlinkpod"
>Mojolicious</a>, <a href="https://metacpan.org/pod/Mojolicious%3A%3AGuides" class="podlinkpod"
>Mojolicious::Guides</a>, <a href="http://mojolicio.us" class="podlinkurl"
>http://mojolicio.us</a>.</p>

<p>(Mojolicious 8.12を反映)</p>

<!-- end doc -->

</body></html>

  </div>
  <div class="bottom">
    <h3>関連情報</h3>

<div style="margin:10px 0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div style="margin-bottom:30px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<!-- ディスプレイ縦長 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="4544919209"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div style="margin-bottom:30px;padding:0 8px;">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net">Perlクラブ</a>
</div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
     
      </div>
    </div>
  </body>
</html>
